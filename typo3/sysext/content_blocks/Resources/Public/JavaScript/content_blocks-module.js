/*
 * This file is part of the TYPO3 CMS project.
 *
 * It is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License, either version 2
 * of the License, or any later version.
 *
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
 *
 * The TYPO3 project - inspiring people to share!
 */
import{MainController}from"@typo3/content-blocks/controller/main-controller.js";import"@typo3/content-blocks/element/content_blocks-edit-element.js";import"@typo3/content-blocks/element/content_blocks-list-element.js";import Severity from"@typo3/backend/severity.js";import{ContentBlocksChooseNameElement}from"@typo3/content-blocks/element/content_blocks-choose-name-element.js";import{default as MultiStepWizard}from"@typo3/backend/multi-step-wizard.js";class ContentBlocksModule{constructor(){this.controller=MainController.instance(),this.docHeaderCreateNewBtn=document.querySelector('[data-identifier="contentblocks.action.create"]'),this.docHeaderCreateNewBtn.onclick=this.onCreateNewContentBlockClicked}onCreateNewContentBlockClicked(e){e.preventDefault(),console.log(1,document);new ContentBlocksChooseNameElement;MultiStepWizard.addSlide("new-1",TYPO3.lang["contentblocks.wizard.new.slide1.title"],"",Severity.info,TYPO3.lang["contentblocks.wizard.new.slide1.progressLabel"],((e,t,n)=>{console.log(2,document),console.log(3,e),MultiStepWizard.lockPrevStep(),e.html(`\n          <div class="mb-3">\n            <script type="module" src="@typo3/content-blocks/element/content_blocks-choose-name-element.js"><\/script>\n            <typo3-content_blocks-choose-name\n                typo3-lang-title="${TYPO3.lang["contentblocks.contentblock.title"]}"\n                typo3-lang-title-description="${TYPO3.lang["contentblocks.contentblock.title.description"]}"\n                typo3-lang-description="${TYPO3.lang["contentblocks.contentblock.description"]}"\n                typo3-lang-vendor="${TYPO3.lang["contentblocks.contentblock.vendor"]}"\n                typo3-lang-vendor-description="${TYPO3.lang["contentblocks.contentblock.vendor.description"]}"\n                typo3-lang-packagename="${TYPO3.lang["contentblocks.contentblock.packagename"]}"\n                typo3-lang-packagename-description="${TYPO3.lang["contentblocks.contentblock.packagename.description"]}"\n            ></typo3-content_blocks-choose-name>\n            \n          </div>\n          `)})),MultiStepWizard.addFinalProcessingSlide((()=>{document.querySelector("typo3-backend-module-router").setAttribute("endpoint",MainController.urls.contentBlocks.edit)})).then((()=>MultiStepWizard.show()))}}export default new ContentBlocksModule;