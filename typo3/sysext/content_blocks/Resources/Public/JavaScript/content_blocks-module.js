/*
 * This file is part of the TYPO3 CMS project.
 *
 * It is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License, either version 2
 * of the License, or any later version.
 *
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
 *
 * The TYPO3 project - inspiring people to share!
 */
import{MainController}from"@typo3/content-blocks/controller/main-controller.js";import"@typo3/content-blocks/element/content_blocks-edit-element.js";import"@typo3/content-blocks/element/content_blocks-list-element.js";import"@typo3/content-blocks/element/content_blocks-choose-name-element.js";import"@typo3/backend/multi-step-wizard.js";import Severity from"@typo3/backend/severity.js";class ContentBlocksModule{constructor(){this.controller=MainController.instance(),this.docHeaderCreateNewBtn=document.querySelector('[data-identifier="contentblocks.action.create"]'),this.docHeaderCreateNewBtn.onclick=this.onCreateNewContentBlockClicked}onCreateNewContentBlockClicked(t){t.preventDefault(),TYPO3.MultiStepWizard.addSlide("new-1",TYPO3.lang["contentblocks.wizard.new.slide1.title"],"",Severity.info,TYPO3.lang["contentblocks.wizard.new.slide1.progressLabel"],((t,e,n)=>{TYPO3.MultiStepWizard.lockPrevStep(),t.html(`\n          <script type="module"\n            src="/typo3/sysext/content_blocks/Resources/Public/JavaScript/element/content_blocks-choose-name-element.js"><\/script>\n          \n          <div class="mb-3">\n            <typo3-content_blocks-choose-name\n                typo3-lang-title="${TYPO3.lang["contentblocks.contentblock.title"]}"\n                typo3-lang-title-description="${TYPO3.lang["contentblocks.contentblock.title.description"]}"\n                typo3-lang-description="${TYPO3.lang["contentblocks.contentblock.description"]}"\n                typo3-lang-vendor="${TYPO3.lang["contentblocks.contentblock.vendor"]}"\n                typo3-lang-vendor-description="${TYPO3.lang["contentblocks.contentblock.vendor.description"]}"\n                typo3-lang-packagename="${TYPO3.lang["contentblocks.contentblock.packagename"]}"\n                typo3-lang-packagename-description="${TYPO3.lang["contentblocks.contentblock.packagename.description"]}"\n            ></typo3-content_blocks-choose-name>\n          </div>\n          `)})),TYPO3.MultiStepWizard.addSlide("new-2",TYPO3.lang["contentblocks.wizard.new.slide2.title"],"",Severity.info,TYPO3.lang["contentblocks.wizard.new.slide2.progressLabel"],(t=>{TYPO3.MultiStepWizard.unlockNextStep(),t.html(`\n          <label for="t3-contentblocks-description" class="form-label">\n            ${TYPO3.lang["contentblocks.contentblock.description"]}\n          </label>\n          <textarea class="form-control" id="t3-contentblocks-description" rows="3"\n            aria-describedby="t3-contentblocks-help-description"\n          ></textarea>\n          <div id="t3-contentblocks-help-packagename" class="form-text">\n            ${TYPO3.lang["contentblocks.contentblock.description.description"]}\n          </div>\n          `)})),TYPO3.MultiStepWizard.addFinalProcessingSlide((()=>{top.location=MainController.urls.contentBlocks.edit})).then((()=>TYPO3.MultiStepWizard.show()))}}export default new ContentBlocksModule;